{"version":3,"sources":["components/MessageBar/MessageBar.tsx"],"names":[],"mappings":"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","file":"components/MessageBar/MessageBar.js","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  css,\r\n  getId\r\n} from '../../Utilities';\r\nimport { Button, ButtonType } from '../../Button';\r\nimport { IMessageBarProps, MessageBarType } from './MessageBar.Props';\r\nimport styles from './MessageBar.scss';\r\n\r\nexport interface IMessageBarState {\r\n  labelId?: string;\r\n  showContent?: boolean;\r\n}\r\n\r\nexport class MessageBar extends React.Component<IMessageBarProps, IMessageBarState> {\r\n\r\n  public static defaultProps: IMessageBarProps = {\r\n    messageBarType: MessageBarType.info,\r\n    onDismiss: null,\r\n    isMultiline: true,\r\n  };\r\n\r\n  private ICON_MAP = {\r\n    [MessageBarType.info]: 'Info',\r\n    [MessageBarType.warning]: 'Info',\r\n    [MessageBarType.error]: 'ErrorBadge',\r\n    [MessageBarType.blocked]: 'Blocked',\r\n    [MessageBarType.remove]: 'Blocked', // TODO remove deprecated value at >= 1.0.0\r\n    [MessageBarType.severeWarning]: 'Warning',\r\n    [MessageBarType.success]: 'Completed'\r\n  };\r\n  private _mountTimeout: number;\r\n\r\n  constructor(props: IMessageBarProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      labelId: getId('MessageBar'),\r\n      showContent: false\r\n    };\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    let { isMultiline } = this.props;\r\n\r\n    return isMultiline ? this._renderMultiLine() : this._renderSingleLine();\r\n  }\r\n\r\n  public componentDidMount() {\r\n    /**\r\n     * Live regions need an update to announce content.\r\n     */\r\n    this._mountTimeout = setTimeout(() => {\r\n      this.setState({ showContent: true });\r\n    }, 10);\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    if (this._mountTimeout) {\r\n      clearTimeout(this._mountTimeout);\r\n    }\r\n  }\r\n\r\n  private _getActionsDiv(): JSX.Element {\r\n    if (this.props.actions) {\r\n      return <div className={ this.props.isMultiline ?\r\n        ('ms-MessageBar-actions ' + styles.actions) :\r\n        ('ms-MessageBar-actionsOneline ' + styles.actionsOneline) }>\r\n        { this.props.actions }\r\n      </div>;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private _getClassName(): string {\r\n    return css(this.props.className, 'ms-MessageBar', styles.root, {\r\n      ['ms-MessageBar ' + styles.root]: this.props.messageBarType === MessageBarType.info,\r\n      ['ms-MessageBar--error ' + styles.rootIsError]: this.props.messageBarType === MessageBarType.error,\r\n      ['ms-MessageBar--blocked ' + styles.rootIsBlocked]: (this.props.messageBarType === MessageBarType.blocked) ||\r\n      (this.props.messageBarType === MessageBarType.remove), // TODO remove deprecated value at >= 1.0.0\r\n      ['ms-MessageBar--severeWarning ' + styles.rootIsSevereWarning]: this.props.messageBarType === MessageBarType.severeWarning,\r\n      ['ms-MessageBar--success ' + styles.rootIsSuccess]: this.props.messageBarType === MessageBarType.success,\r\n      ['ms-MessageBar--warning ' + styles.rootIsWarning]: this.props.messageBarType === MessageBarType.warning\r\n    });\r\n  }\r\n\r\n  private _getDismissDiv(): JSX.Element {\r\n    if (this.props.onDismiss != null) {\r\n      return <Button\r\n        disabled={ false }\r\n        className={ css('ms-MessageBar-dismissal', styles.dismissal) }\r\n        buttonType={ ButtonType.icon }\r\n        onClick={ this.props.onDismiss }\r\n        icon='Cancel'\r\n        ariaLabel={ this.props.dismissButtonAriaLabel }\r\n      />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private _getIconSpan(): JSX.Element {\r\n    return (\r\n      <div className={ css('ms-MessageBar-icon', styles.icon) }>\r\n        <i className={ `ms-Icon ms-Icon--${this.ICON_MAP[this.props.messageBarType]}` }></i>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _getInnerTextClassName(): string {\r\n    return this.props.onDismiss || this.props.actions ?\r\n      'ms-MessageBar-innerTextPadding ' + styles.innerTextPadding : 'ms-MessageBar-innerText ' + styles.innerText;\r\n  }\r\n\r\n  private _renderMultiLine(): React.ReactElement<React.HTMLProps<HTMLAreaElement>> {\r\n    return (\r\n      <div\r\n        className={ this._getClassName() + ' ms-MessageBar-multiline ' + styles.multiline }\r\n        role='status'\r\n        aria-live={ this._getAnnouncementPriority() }>\r\n        <div className={ css('ms-MessageBar-content', styles.content) }>\r\n          { this._getIconSpan() }\r\n          <div className={ css('ms-MessageBar-actionables', styles.actionables) }>\r\n            <div className={ css('ms-MessageBar-text', styles.text) } id={ this.state.labelId }>\r\n              <span className={ this._getInnerTextClassName() }>\r\n                { this.state.showContent && this.props.children }\r\n              </span>\r\n            </div>\r\n            { this._getActionsDiv() }\r\n            { this._getDismissDiv() }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _renderSingleLine(): React.ReactElement<React.HTMLProps<HTMLAreaElement>> {\r\n    return (\r\n      <div className={ this._getClassName() + ' ms-MessageBar-singleline ' + styles.singleline }\r\n        role='status'\r\n        aria-live={ this._getAnnouncementPriority() }>\r\n        <div className={ css('ms-MessageBar-content', styles.content) }>\r\n          { this._getIconSpan() }\r\n          <div className={ css('ms-MessageBar-actionables', styles.actionables) }>\r\n            <div className={ css('ms-MessageBar-text', styles.text) } id={ this.state.labelId }>\r\n              <span className={ this._getInnerTextClassName() }>\r\n                { this.state.showContent && this.props.children }\r\n              </span>\r\n            </div>\r\n          </div>\r\n          { this._getActionsDiv() }\r\n          <div className={ css('ms-MessageBar-dismissalOneline', styles.dismissalOneline) }>\r\n            { this._getDismissDiv() }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _getAnnouncementPriority(): string {\r\n    switch (this.props.messageBarType) {\r\n      case MessageBarType.blocked:\r\n      case MessageBarType.error:\r\n      case MessageBarType.severeWarning:\r\n        return 'assertive';\r\n    }\r\n    return 'polite';\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}